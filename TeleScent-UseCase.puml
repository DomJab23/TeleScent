@startuml TeleScent Use Case Diagram

skinparam backgroundColor #FFFFFF
skinparam actorBackgroundColor #E3F2FD
skinparam usecaseBackgroundColor #FFF9C4

title TeleScent System - Use Case Diagram

left to right direction

actor "End User" as user
actor "eNose Device" as enose
actor "Scent Emitter" as emitter

rectangle "TeleScent System" {
  
  ' User use cases
  usecase "Login/Register" as UC1
  usecase "View Dashboard" as UC2
  usecase "Monitor Real-time Sensors" as UC3
  usecase "View Predictions" as UC4
  usecase "View Prediction History" as UC5
  usecase "View Statistics" as UC6
  usecase "Manage Profile" as UC7
  
  ' eNose use cases
  usecase "Collect Sensor Data" as UC8
  usecase "Transmit Data via GSM" as UC9
  usecase "Calibrate Sensors" as UC10
  
  ' System use cases
  usecase "Process Sensor Data" as UC11
  usecase "Run ML Prediction" as UC12
  usecase "Apply Consecutive Logic" as UC13
  usecase "Detect VOC/NO2 Changes" as UC14
  usecase "Generate Emitter Control" as UC15
  usecase "Broadcast via SSE" as UC16
  
  ' Emitter use cases
  usecase "Poll for Commands" as UC17
  usecase "Activate Scent Cartridge" as UC18
  usecase "Set PWM Intensity" as UC19
  
}

' User relationships
user --> UC1
user --> UC2
user --> UC3
user --> UC4
user --> UC5
user --> UC6
user --> UC7

' eNose relationships
enose --> UC8
enose --> UC9
enose --> UC10

' System relationships
UC9 ..> UC11 : triggers
UC11 ..> UC12 : includes
UC12 ..> UC13 : includes
UC11 ..> UC14 : includes
UC12 ..> UC15 : includes
UC11 ..> UC16 : includes

' Emitter relationships
emitter --> UC17
UC17 ..> UC15 : retrieves
emitter --> UC18
emitter --> UC19

' Extensions
UC3 ..> UC16 : extends
UC4 ..> UC16 : extends

note right of UC8
  Sensors:
  - BME680
  - SGP41
  - GMXXX
end note

note right of UC12
  Models:
  - 6-sensor (full)
  - 2-sensor (simple)
end note

note bottom of UC13
  Requires 3 consecutive
  predictions for confirmation
end note

note left of UC17
  HTTP polling
  to backend API
end note

@enduml
